<html>
<head>
	<title>Weather</title>
	<link rel="stylesheet" href="main.css">
	<link href="https://fonts.googleapis.com/css?family=Open+Sans|Poiret+One" rel="stylesheet">
	
	<script>
		var updateWeather = function () {
			var city = document.getElementById("cityBox").value;
				Weather.getCurrent(city, function(current) {
  					console.log(
    				["currently:",Weather.kelvinToFahrenheit(current.temperature()),"and",current.conditions()].join(" "));
    				
    				var degrees = Weather.kelvinToFahrenheit(current.temperature());
    				document.getElementById("degrees").innerHTML = Math.round(degrees) + "&deg;";
    				document.getElementById("weatherInfo").innerHTML = current.conditions();
    				// depending on the weather, adjust background.
					if (current.conditions().includes("sun"))
					{
						document.body.background = "sunnyWallpaper.jpg";
					}
					else if (current.conditions().includes("cloud"))
					{
						document.body.background = "cloudyWallpaper.jpg";
					}
					else if (current.conditions().includes("rain"))
					{
						document.body.background = "rainyWallpaper.jpg";
					}
					else if (current.conditions().includes("snow"))
					{
						document.body.background = "snowyWallpaper.jpg";
					}
					else
					{
						document.body.background = "blurredBG.jpg";
					}
				});
			}
			
	</script>
</head>
<body>
	
	<br>
	<h1 class="center" id="degrees">75</h1>
	<h2 class="center" id="weatherInfo">Partly cloudy</h2>

	<br><br><br>
	<div class="center" id="cityBoxDiv">
		<input type="text" id="cityBox" value="provo, utah" placeholder="city, state">
		<button type="button" onClick="updateWeather()">Submit</button>
	</div>
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="weather-master/lib/weather.js"></script>
    <script>
    	Weather.setApiKey("5c7a6ab33b3af63a06998901f26c927a");
    	
    	/*
        Weather.getCurrent( "Guntersville", function( current ) {
            $( "#current" ).html( "Temperature: " + current.temperature() + "&deg;K or " +
                Weather.kelvinToFahrenheit( current.temperature() ) + "&deg;F or " +
                Weather.kelvinToCelsius( current.temperature() ) + "&deg;C" +
                "<br />Current Conditions: " + current.conditions() );
        });

        Weather.getForecast( "Guntersville", function ( forecast ) {
            $( "#forecast" ).html( "High: " + forecast.high() + "&deg;K or " +
                Weather.kelvinToFahrenheit( forecast.high() ) + "&deg;F or " +
                Weather.kelvinToCelsius( forecast.high() ) + "&deg;C<br />Low: " +
                forecast.low() + "&deg;K or " +
                Weather.kelvinToFahrenheit( forecast.low() ) + "&deg;F or " +
                Weather.kelvinToCelsius( forecast.low() ) + "&deg;C" );
        });*/
        
        Weather.getCurrent("provo, utah", function(current) {
  console.log(
    ["currently:",Weather.kelvinToFahrenheit(current.temperature()),"and",current.conditions()].join(" ")
  );
});

	updateWeather();
    </script>
</body>
</html>